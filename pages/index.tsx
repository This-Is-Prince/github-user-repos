import type { NextPage } from "next";
import Head from "next/head";
import Header from "../components/Header";
import Loading from "../components/Loading";
import User from "../components/user/User";
import { useAppContext } from "../context/AppContext";

const Home: NextPage = () => {
  const {
    state: { isLoading, user },
  } = useAppContext()!;
  return (
    <>
      <Head>
        <title>Github User Repos</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Header />
      <main className="flex justify-center bg-[#0d1117]  border-t-2">
        {isLoading.value && <Loading why={isLoading.why} />}
        {user.name && <User />}
      </main>
    </>
  );
};

export default Home;
